# Публикация комиксов

Код позволяет публиковать комиксы с сайта https://xkcd.com в вашу группу ВК

## Как установить

Python3 должен быть уже установлен. Затем используйте pip (или pip3, есть конфликт с Python2) для установки зависимостей:

```
pip install -r requirements.txt
```

### Получение чувствительных данных

Определите или создайте свою группу, в которой вы планируете постить комиксы.
Создайте приложение в VK: https://dev.vk.com/mini-apps/getting-started

В качестве типа приложения следует указать standalone — это подходящий тип для приложений, которые просто запускаются на компьютере.
Чтобы работать со своим приложением, надо знать его client_id. Иначе сервер не поймёт, от имени какого приложения вы хотите работать. Если нажать на кнопку “Редактировать” для нового приложения, в адресной строке вы увидите его ``client_id``.
Создайте файл .env и поместите в него ваши ``CLIENT_ID``, ``GROUP_ID`` - это ``id`` группы, в которой планируется постить комиксы, ``V`` - актуальная версия API VK (на момент публикации скрипта = 5.131), ``IMAGE_FOLDER`` адрес папки куда временно будут сохранятся изображения:

```
CLIENT_ID=8121330
GROUP_ID=212252084
V=5.131
IMAGE_FOLDER='images'
```

Также для публикаций вам понадобится ``access_token``, который получается для каждого нового IP.
Для этого запустите скрипт с аргументом:

```
$ python3 main.py --token get
Перейдите по ссылке ниже, разрешите доступ приложению,и в URL страницы будет ACCESS_TOKEN в параметре &access_token=Внесите его в .env и перезапустите скрипт без аргументов
https://oauth.vk.com/authorize?client_id=8121330&display=page&scope=photos,groups,wall,offline&response_type=token&v=5.131
```
Вы перейдете на страницу вида:
```
https://oauth.vk.com/blank.html#access_token=f4283237e4094e15772a66fd35f7dddd9f41453b22e0719a1338fef3573eeee8dd21711c5a02f38137000&expires_in=0&user_id=139106
```
Внесите ``access_token`` в ``.env`` в переменную ``ACCESS_TOKEN``:
```
ACCESS_TOKEN='f4283237e4094e15772a66fd35f7dddd9f41453b22e0719a1338fef3573eeee8dd21711c5a02f38137000'
```

## Запуск кода

Запустите код командой 
```
$ python3 main.py
```
## Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков dvmn.org.

## Лицензия

Код распространяется свободно согласно MIT License